

  
    
  


  




  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.37.1 with theme Tranquilpeak 0.4.3-BETA">
    <title>The Adam Smith Problem: Tidytext in R</title>
    <meta name="author" content="David Salazar">
    <meta name="keywords" content="">

    <link rel="icon" href="https://david-salazar.github.io/favicon.png">
    

    
    <meta name="description" content="Why? This is a fun (for me) exercise to explore Text Mining with R and make sure I can follow along.
 What is it ? Around the XIX century, some german scholars posited that Wealth of Nations’ Adam Smith was too different to Theory of Moral Sentiments’ Adam Smith, thus concluded that he must have had a change of heart somewhere along his life or that he was simply an incoherent man.">
    <meta property="og:description" content="Why? This is a fun (for me) exercise to explore Text Mining with R and make sure I can follow along.
 What is it ? Around the XIX century, some german scholars posited that Wealth of Nations’ Adam Smith was too different to Theory of Moral Sentiments’ Adam Smith, thus concluded that he must have had a change of heart somewhere along his life or that he was simply an incoherent man.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="The Adam Smith Problem: Tidytext in R">
    <meta property="og:url" content="/2018/04/the-adam-smith-problem-tidytext-in-r/">
    <meta property="og:site_name" content="Humanistic Musings">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Humanistic Musings">
    <meta name="twitter:description" content="Why? This is a fun (for me) exercise to explore Text Mining with R and make sure I can follow along.
 What is it ? Around the XIX century, some german scholars posited that Wealth of Nations’ Adam Smith was too different to Theory of Moral Sentiments’ Adam Smith, thus concluded that he must have had a change of heart somewhere along his life or that he was simply an incoherent man.">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/e8cd0f0c6fcc822aa4f80b6844476165?s=640">
    

    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://david-salazar.github.io/css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://david-salazar.github.io/">Humanistic Musings</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://david-salazar.github.io/#about">
    
    
    
      
        <img class="header-picture" src="//www.gravatar.com/avatar/e8cd0f0c6fcc822aa4f80b6844476165?s=90" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://david-salazar.github.io/#about">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/e8cd0f0c6fcc822aa4f80b6844476165?s=110" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">David Salazar</h4>
        
          <h5 class="sidebar-profile-bio">I am 22 years old and just graduated from an economics major. However, I do not find economics as intellectually fertile as I should. Thus, I am striving to gain more breadth than depth; to study everything I find interesting. Whether that is Statistics, Philosophy or nothing, time will tell.</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://david-salazar.github.io/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://david-salazar.github.io/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://david-salazar.github.io/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://david-salazar.github.io/">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/David-Salazar" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-stack-overflow"></i>
      
      <span class="sidebar-button-desc">Stack Overflow</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      The Adam Smith Problem: Tidytext in R
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2018-04-09T00:00:00Z">
        
  April 9, 2018

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="https://david-salazar.github.io/categories/tutorial">tutorial</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <div id="why" class="section level1">
<h1>Why?</h1>
<p>This is a fun (for me) exercise to explore <a href="https://www.tidytextmining.com">Text Mining with R</a> and make sure I can follow along.</p>
</div>
<div id="what-is-it" class="section level1">
<h1>What is it ?</h1>
<p>Around the XIX century, some german scholars posited that Wealth of Nations’ Adam Smith was too different to Theory of Moral Sentiments’ Adam Smith, thus concluded that he must have had a change of heart somewhere along his life or that he was simply an incoherent man.</p>
<p>I tend to think that the differences between the books are overstated, and, although they treat very different subjects, they fit within a greater scientific investigation. Let’s use <code>tidytext</code> principles to investigate the differences between the books. However, I do not think these similarities can be found with a quantitative bend; quite the opposite, I believe this little experiment will yield the superficial differences between the books. Let’s see what we find.</p>
<div id="load-packages-and-data" class="section level2">
<h2>Load packages and Data</h2>
<pre class="r"><code>library(tidyverse)
library(tidytext)
library(gutenbergr)
library(tidygraph)
library(igraph)
library(ggraph)
library(stringr)
library(widyr)</code></pre>
<p>Let’s use the <code>gutenbergr</code> to access the books:</p>
<pre class="r"><code>gutenberg_works(author == &quot;Smith, Adam&quot;)</code></pre>
<pre><code>## # A tibble: 1 x 8
##   gutenberg_id title    author gutenberg_autho… language gutenberg_booksh…
##          &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;             &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;            
## 1         3300 An Inqu… Smith…             1158 en       Harvard Classics…
## # ... with 2 more variables: rights &lt;chr&gt;, has_text &lt;lgl&gt;</code></pre>
<p>Revealing that project gutenber has no “Theory of the moral Sentiments” :). Let’s download the text from <a href="http://ota.ox.ac.uk/desc/3189">here</a>.</p>
<pre class="r"><code>wealth &lt;- gutenberg_download(gutenberg_id = 3300) %&gt;% 
  select(-gutenberg_id) %&gt;% 
  mutate(chapter = cumsum(str_detect(text, regex(&quot;^chapter [\\divxlc]&quot;,
                                                 ignore_case = TRUE))),
         title = &quot;Wealth of Nations&quot;)</code></pre>
<pre><code>## Determining mirror for Project Gutenberg from http://www.gutenberg.org/robot/harvest</code></pre>
<pre><code>## Using mirror http://aleph.gutenberg.org</code></pre>
<pre class="r"><code>wealth</code></pre>
<pre><code>## # A tibble: 35,202 x 3
##    text                                              chapter title        
##    &lt;chr&gt;                                               &lt;int&gt; &lt;chr&gt;        
##  1 AN INQUIRY INTO THE NATURE AND CAUSES OF THE WEA…       0 Wealth of Na…
##  2 &quot;&quot;                                                      0 Wealth of Na…
##  3 &quot;&quot;                                                      0 Wealth of Na…
##  4 By Adam Smith                                           0 Wealth of Na…
##  5 &quot;&quot;                                                      0 Wealth of Na…
##  6 &quot;&quot;                                                      0 Wealth of Na…
##  7 &quot;&quot;                                                      0 Wealth of Na…
##  8 &quot;&quot;                                                      0 Wealth of Na…
##  9 INTRODUCTION AND PLAN OF THE WORK.                      0 Wealth of Na…
## 10 &quot;&quot;                                                      0 Wealth of Na…
## # ... with 35,192 more rows</code></pre>
<pre class="r"><code>theory &lt;- read_file(&quot;../../data/3189.txt&quot;) %&gt;% 
  data_frame(text = .) %&gt;% 
    mutate(text = strsplit(text, &quot;\n&quot;)) %&gt;% 
    unnest(text) %&gt;% 
    mutate(title = &quot;The Theory of Moral Sentiments&quot;,
           chapter = cumsum(str_detect(text, regex(&quot;^Chap. [\\divxlc]&quot;,
                                                 ignore_case = TRUE))))
theory</code></pre>
<pre><code>## # A tibble: 830 x 3
##    text                                               title        chapter
##    &lt;chr&gt;                                              &lt;chr&gt;          &lt;int&gt;
##  1 The Theory of Moral Sentiments                     The Theory …       0
##  2 by                                                 The Theory …       0
##  3 Adam Smith                                         The Theory …       0
##  4 Professor of Moral Philosophy in the University o… The Theory …       0
##  5 Part I                                             The Theory …       0
##  6 Of the Propriety of Action Consisting of Three Se… The Theory …       0
##  7 Section I                                          The Theory …       0
##  8 Of the Sense of Propriety                          The Theory …       0
##  9 Chap. I                                            The Theory …       1
## 10 Of Sympathy                                        The Theory …       1
## # ... with 820 more rows</code></pre>
</div>
</div>
<div id="tidytext-analysis" class="section level1">
<h1>TidyText analysis</h1>
<div id="most-used-words" class="section level2">
<h2>Most used words</h2>
<p>Let’s see which are the words that Smith uses the most in each of the books.</p>
<pre class="r"><code>smith_books &lt;- rbind(theory, wealth)
smith_books_tidy &lt;- smith_books %&gt;% 
  unnest_tokens(word, text) %&gt;%
  anti_join(stop_words)</code></pre>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre class="r"><code>smith_books_tidy %&gt;% 
  count(word, title) %&gt;% 
  group_by(title) %&gt;% 
  arrange(desc(n)) %&gt;% 
  top_n(10) %&gt;% 
  ggplot(aes(x = fct_reorder(word, n), y = n, fill = title)) +
    geom_col() +
    coord_flip() +
    hrbrthemes::theme_ipsum() +
    facet_wrap(~ title, scales = &quot;free&quot;) +
    ggthemes::scale_fill_gdocs(guide = FALSE) +
    labs(x = &quot;&quot;)</code></pre>
<pre><code>## Selecting by n</code></pre>
<p><img src="https://david-salazar.github.io/post/2018-04-09-the-adam-smith-problem-tidytext-in-r_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Well, Smith definitely wrote two books with (just in the surface, as his theses were very similar. cf. Marketplace Smith) different subjects, as shown by the very different words he uses in both books.</p>
</div>
<div id="sentiment-analysis" class="section level2">
<h2>Sentiment Analysis</h2>
<p>Economics was famously described as the “dismal science”. Let’s see if the most economics-centered book is indeed much somber than the “Theory of Moral Sentiments”.</p>
<pre class="r"><code>smith_books_tidy %&gt;% 
  inner_join(get_sentiments(&quot;afinn&quot;)) %&gt;% 
  group_by(title, chapter) %&gt;% 
  summarise(sentiment = sum(score)) %&gt;% 
  ggplot(aes(x = chapter, y = sentiment, color = title)) +
    geom_point(alpha = 1/10) +
    geom_smooth(se = FALSE) +
    facet_wrap(~ title, scales = &quot;free_x&quot;) +
    hrbrthemes::theme_ipsum() +
    ggthemes::scale_color_gdocs(guide = FALSE)</code></pre>
<p><img src="https://david-salazar.github.io/post/2018-04-09-the-adam-smith-problem-tidytext-in-r_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Whereas the “Theory” seems to start off neutral and end on a happy note, the “Wealth” seems to progressively get more positive but ends on a quite sad note. My former Adam Smith obsessed self may have told you why this is thus, but I forgot the chapters order and their corresponding subjects. However, there does not seem to be a ground to argue that the “Wealth of Nations” is “much dismal” than the “Theory of Moral Sentiments”.</p>
</div>
<div id="tf-idf" class="section level2">
<h2>TF-IDF</h2>
<p>TF-IDF adjusts the term frequency within document (in this case book) for the specificity of the term to that specific document. Thus, terms that are used in both books are weighted down, and terms that are used almost exclusively in one of the books are weighted up. The idea is to find the most distinctive terms for each book. My intuition tells me that this won’t be much too different from the original counts (very different vocabularies in the books). Just for the sake of it, let’s use bigrams:</p>
<pre class="r"><code>smith_bigrams &lt;- smith_books %&gt;% 
  unnest_tokens(bigram, text, token = &quot;ngrams&quot;, n = 2)

bigrams_separated &lt;- smith_bigrams %&gt;%
  separate(bigram, c(&quot;word1&quot;, &quot;word2&quot;), sep = &quot; &quot;)

bigrams_filtered &lt;- bigrams_separated %&gt;%
  filter(!word1 %in% stop_words$word) %&gt;%
  filter(!word2 %in% stop_words$word) %&gt;% 
  filter(!str_detect(word1, &quot;\\d&quot;),
         !str_detect(word2, &quot;\\d&quot;))

bigrams_united &lt;- bigrams_filtered %&gt;%
  unite(bigram, word1, word2, sep = &quot; &quot;)

bigrams_united %&gt;% 
  count(title, bigram) %&gt;% 
  group_by(title) %&gt;% 
  arrange(desc(n)) %&gt;% 
  top_n(10) %&gt;% 
  ggplot(aes(x = fct_reorder(bigram, n), y = n, fill = title)) +
    geom_col() +
    coord_flip() +
    facet_wrap(~ title, scales = &quot;free&quot;) +
    hrbrthemes::theme_ipsum() +
    ggthemes::scale_fill_gdocs(guide = FALSE) +
    labs(x = &quot;&quot;)</code></pre>
<pre><code>## Selecting by n</code></pre>
<p><img src="https://david-salazar.github.io/post/2018-04-09-the-adam-smith-problem-tidytext-in-r_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>With just the counts, the subject difference is even more striking. Human nature vs foreign trade. Surprsingly, one could use the bigram for the “Theory” as the main subject of the book and not be completely wrong. I do not think that the TF-IDF analysis will change much, but let’s go ahead:</p>
<pre class="r"><code>bigrams_united %&gt;%
  count(title, bigram) %&gt;%
  bind_tf_idf(bigram, title, n) %&gt;%
  group_by(title) %&gt;% 
  arrange(desc(tf_idf)) %&gt;% 
  top_n(10) %&gt;% 
  ggplot(aes(x = fct_reorder(bigram, tf_idf), y = tf_idf, fill = title)) +
    geom_col() +
    coord_flip() +
    facet_wrap(~ title, scales = &quot;free&quot;) +
    hrbrthemes::theme_ipsum() +
    ggthemes::scale_fill_gdocs(guide = FALSE) +
    labs(x = &quot;&quot;)</code></pre>
<pre><code>## Selecting by tf_idf</code></pre>
<p><img src="https://david-salazar.github.io/post/2018-04-09-the-adam-smith-problem-tidytext-in-r_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>As predicted, the TF-IDF adjustment didn’t change much.</p>
</div>
<div id="correlating-pairs" class="section level2">
<h2>Correlating pairs</h2>
<p>Bigrams are restrictive: words have to appear next to each other. However, words that tend to appear together, even if not immediately to each other within a given subdivision, may also give us some insight. Let’s analyze which pairs of words are more likely to co-appear within a given chapter than appearing by themselves, using the correlation coefficient.</p>
<pre class="r"><code>pairwise_book &lt;- function(df) {
  df %&gt;% 
  group_by(word) %&gt;%
  filter(n() &gt;= 100) %&gt;%
  pairwise_cor(word, chapter, sort = TRUE)
}

smith_correlations &lt;- smith_books_tidy %&gt;% 
  filter(!str_detect(word, &quot;\\d&quot;)) %&gt;% 
  group_by(title) %&gt;% 
  do(pairwise_book(.)) %&gt;% 
  group_by(title) %&gt;% 
  arrange(desc(correlation)) %&gt;% 
  top_n(50, correlation) %&gt;% ungroup

corr_graph &lt;- function(df) {
  ggraph(df, layout = &quot;fr&quot;) +
  geom_edge_link(aes(edge_alpha = correlation), show.legend = FALSE) +
  geom_node_point(color = &quot;lightblue&quot;, size = 3) +
  geom_node_text(aes(label = name), repel = TRUE) +
  theme_graph() 
}

smith_data &lt;- smith_correlations %&gt;%
  filter(correlation &gt; 0.1) %&gt;% 
  group_by(title) %&gt;% 
  nest()

smith_data$data %&gt;% 
  map(graph_from_data_frame) %&gt;% 
  map(corr_graph) %&gt;% 
  reduce(cowplot::plot_grid, labels = c(&quot;Wealth of Nations&quot;, &quot;Theory of Moral Sentiments&quot;))</code></pre>
<p><img src="https://david-salazar.github.io/post/2018-04-09-the-adam-smith-problem-tidytext-in-r_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>Whereas the words from the “Theory” form a nice little cluster, the words from the “Wealth of Nations” are all over the place.</p>
</div>
<div id="conclusion" class="section level2">
<h2>Conclusion</h2>
<p>Were one to argue that Smith’s two most famous book represent an incongruent body of work, a cursory look at the vocabulary would be one’s best weapon. One talks about human nature and moral sentiments whereas the other takes about trade and produce. If pushed further, one could say the difference it is that whereas in the “Theory” greed is criticised, in the “Wealth” it is celebrated. However, I do believe that saying so would be a mistake.</p>
</div>
</div>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://david-salazar.github.io/tags/tidytext/">tidytext</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://david-salazar.github.io/2018/04/tutorial-leaflet-chorophlets/" data-tooltip="Tutorial Leaflet Chorophlets">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://david-salazar.github.io/2018/04/the-adam-smith-problem-tidytext-in-r/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://david-salazar.github.io/2018/04/the-adam-smith-problem-tidytext-in-r/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://david-salazar.github.io/2018/04/the-adam-smith-problem-tidytext-in-r/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2018 David Salazar. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://david-salazar.github.io/2018/04/tutorial-leaflet-chorophlets/" data-tooltip="Tutorial Leaflet Chorophlets">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://david-salazar.github.io/2018/04/the-adam-smith-problem-tidytext-in-r/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://david-salazar.github.io/2018/04/the-adam-smith-problem-tidytext-in-r/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://david-salazar.github.io/2018/04/the-adam-smith-problem-tidytext-in-r/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdavid-salazar.github.io%2F2018%2F04%2Fthe-adam-smith-problem-tidytext-in-r%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fdavid-salazar.github.io%2F2018%2F04%2Fthe-adam-smith-problem-tidytext-in-r%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https%3A%2F%2Fdavid-salazar.github.io%2F2018%2F04%2Fthe-adam-smith-problem-tidytext-in-r%2F">
          <i class="fa fa-google-plus"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/e8cd0f0c6fcc822aa4f80b6844476165?s=110" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">David Salazar</h4>
    
      <div id="about-card-bio">I am 22 years old and just graduated from an economics major. However, I do not find economics as intellectually fertile as I should. Thus, I am striving to gain more breadth than depth; to study everything I find interesting. Whether that is Statistics, Philosophy or nothing, time will tell.</div>
    
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Bogotá, Colombia
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://david-salazar.github.io/2018/04/the-adam-smith-problem-tidytext-in-r/">
                <h3 class="media-heading">The Adam Smith Problem: Tidytext in R</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Why? This is a fun (for me) exercise to explore Text Mining with R and make sure I can follow along.
 What is it ? Around the XIX century, some german scholars posited that Wealth of Nations’ Adam Smith was too different to Theory of Moral Sentiments’ Adam Smith, thus concluded that he must have had a change of heart somewhere along his life or that he was simply an incoherent man.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://david-salazar.github.io/2018/04/tutorial-leaflet-chorophlets/">
                <h3 class="media-heading">Tutorial Leaflet Chorophlets</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Leaflet Leaflet is javascript library. You can access it, like many other cool interactive libraries (i.e., dygraphs) thanks to the work of people in RStudio. Here, I’ll layout a basic structure for plotting simple maps in leaflet and then how to advance them and plot chorophlets.
Inspired by:
 https://rstudio.github.io/leaflet/choropleths.html https://stackoverflow.com/questions/47571337/how-to-create-a-choropleth-on-a-leaflet-map-r  Loading packages library(tidyverse) ## ── Attaching packages ───────────────────────────────────────────────────────────────────────────────────── tidyverse 1.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://david-salazar.github.io/2018/04/shiny-e-icolcap/">
                <h3 class="media-heading">Shiny e iCOLCAP</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Siguiendo una inversión decepecionante El mercado colombiano ha sido una decepción en los últimos cinco años. Para ver qué tan decepcionado debería estar, cree esta Shiny app. Para no ovlidarme de cómo se construyen en el futuro, acá un tutorial breve comentando selecciones del código:
ui: User Interface En la ui especificamos la organización de los inputs y outputs, aún cuando no hayamos creado estos últimos.
ui &lt;- fluidPage( # Application title titlePanel(&quot;Comparación de Mercado&quot;), # Sidebar with a date input sidebarLayout( dateInput(&quot;fecha_inicial&quot;, &quot;Fecha de inicio de comparación:&quot;, value = &quot;2013-01-01&quot;) # primer argumento input$fecha_inicial, como nos referiremos a esto en server.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         3 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('https://david-salazar.github.io/images/turner.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://david-salazar.github.io/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/david-salazar.github.io\/2018\/04\/the-adam-smith-problem-tidytext-in-r\/';
          
            this.page.identifier = '\/2018\/04\/the-adam-smith-problem-tidytext-in-r\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'hugo-tranquilpeak-theme';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
  </body>
</html>

